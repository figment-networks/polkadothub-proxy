syntax = "proto3";

import "google/protobuf/timestamp.proto";

package block;
option go_package = "github.com/figment-networks/polkadothub-proxy/grpc/block/blockpb";

message Header {
  google.protobuf.Timestamp time = 1;
  string block_hash = 2;
  string parent_hash = 3;
  int64  height = 4;
  string state_root = 5;
  string extrinsics_root = 6;
}

message Extrinsic {
  int64 extrinsic_index = 1;
  string hash = 2;
  string time = 3;
  bool is_signed_transaction = 4;
  string signature = 5;
  string signer = 6;
  int64  nonce = 7;
  string method = 8;
  string section = 9;
  string args = 10;
  bool is_success = 11;
}

message Block {
  Header header = 2;
  repeated Extrinsic extrinsics = 3;
}

message GetByHeightRequest {
  int64 height = 1;
}

message GetByHeightResponse {
  int64 era = 1;
  int64 session = 2;
  string chain = 3;
  string spec_version = 4;
  string block_hash = 5;
  Block block = 6;
}

service BlockService {
  rpc GetByHeight (GetByHeightRequest) returns (GetByHeightResponse) {}
}

